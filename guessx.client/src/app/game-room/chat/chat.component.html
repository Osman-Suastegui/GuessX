<div class="chat-shell panel-surface">
  <div class="panel-header">
    <h3 class="panel-title">GUESS CHAT</h3>
  </div>

  <div class="message-area" #chatContainer>
    @for (message of messages; track $index) {
      @if (message.sender === "system") {
        <div class="msg system">
          <span>{{ message.text }}</span>
        </div>
      } @else if (!message.ownMessage) {
        <div class="msg incoming" [class.answer]="message.isAnswer">
          <span class="msg-sender">{{ message.sender }}</span>
          <span class="msg-text" [class.answer-text]="message.isAnswer">{{ message.text }}</span>
          @if (message.isAnswer) {
            <span class="msg-note">guessed correctly!</span>
          }
        </div>
      } @else {
        <div class="msg outgoing" [class.answer]="message.isAnswer">
          <span class="msg-sender">{{ message.sender }}</span>
          <span class="msg-text" [class.answer-text]="message.isAnswer">{{ message.text }}</span>
          @if (message.isAnswer) {
            <span class="msg-note">guessed correctly!</span>
          }
        </div>
      }
    }
  </div>

  <form class="input-bar" (submit)="onMessageSend($event)">
    <div class="input-row">
      <input [formControl]="type" type="text" placeholder="Type your guess..." class="chat-input" />
      <button type="submit" class="icon-btn">
        <mat-icon>send</mat-icon>
      </button>
    </div>
  </form>
</div>
